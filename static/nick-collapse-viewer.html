<!--Polymer essential components-->
<link href="components/polymer/polymer.html" rel="import">
<!--Collapse component-->
<link href="components/core-collapse/core-collapse.html" rel="import">
<!--Spreadsheet component-->
<link href="components/sheet/google-sheets.html" rel="import">
<!--Chart component-->
<link href="components/chart-elements/chart-elements.html" rel="import">

<!--nick-collapse-viewer-->
<polymer-element name="nick-collapse-viewer" attributes="program details link chart image imagedetails">

<template>
      <style>

    .heading {
      padding: 10px 15px;
      background-color: #f3f3f3;
      border: 1px solid #dedede;
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
      font-size: 15px;
          color:#FF0000;
      cursor: pointer;
      -webkit-tap-highlight-color: rgba(0,0,0,0);
    }

    .content {
      padding: 12px;
      border: 1px solid #dedede;
      border-top: none;
      border-bottom-left-radius: 5px;
      border-bottom-right-radius: 5px;
    }

  </style>

        <div class="heading" on-click="{{ toggle }}">{{ program }}</div>
        <core-collapse id="collapse">
            <div class="content">
                <div>{{ details }}</div>
                <hr size="1"  />
                <table border="0">
                    <tr>
                        <td><img src="{{ image }}" width="100" height="100" /></td>
                        <td VALIGN="TOP"><div>{{ imagedetails }}</div></td>
                    </tr>
                </table>
                <hr size="1"  />
                <chart-pie
                    width="150"
                    height="150"
                    values="{{ chart | arrayize }}">
                </chart-pie>
                <div><a href="{{ link }}"> more details</a></div>
            </div>
        </core-collapse>

</template>
 <script>
    Polymer('nick-collapse-viewer', {

        toggle: function() {
            this.$.collapse.toggle();
        },
          arrayize: function(el) {
            return JSON.parse(el);
        },

    });

  </script>
</polymer-element>